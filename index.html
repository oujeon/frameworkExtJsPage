<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title></title>
    <script src="./lib/ext-all-debug-w-comments.js"></script>
    <link rel="stylesheet" href="./css/ext-theme-neptune-all-debug.css" />
    <script src="./defines/common/commonHeaderMenu.js"></script>
    <script src="./funs/funs.js"></script>
  </head>
  <body>
    <script type="text/javascript">
      Ext.onReady(function() {
        // -------------------------------------------------------------------------------------------------------------
        // Viewport
        // -------------------------------------------------------------------------------------------------------------
        var viewport = Ext.create("Ext.container.Viewport", {
          layout: "border",
          items: []
        });
        //헤더 메뉴 위치는 north 위에 넣는다. 공통
        var itemsViewport = [
          {
            xtype: "container",
            region: "north",
            height: 50,
            margin: 2,
            style: "background-color:#00FF48",
            layout: {
              type: "hbox",
              align: "middle",
              pack: "center"
            },
            items: [
              {
                xtype: "label",
                itemid: "labelHeader",
                html: "<h1>Framework Extjs Page</h1>"
              }
            ]
          },
          {
            xtype: "container",
            id: "menuContainer",
            itemId: "menuContainer",
            region: "north",
            height: 50,
            margin: 2,
            style: "background-color:#00FF48",
            layout: {
              type: "vbox",
              align: "stretch",
              pack: "center"
            },
            items: [
              //
            ]
          },
          {
            xtype: "container",
            region: "center",
            margin: 10,
            layout: "border",
            items: [
              {
                xtype: "toolbar",
                region: "north",
                layout: {
                  type: "hbox",
                  pack: "end"
                },
                items: [
                  {
                    xtype: "button",
                    handler: fnCreate,
                    width: 100,
                    text: "Create"
                  },
                  {
                    xtype: "button",
                    handler: fnRead,
                    width: 100,
                    text: "Read"
                  },
                  {
                    xtype: "button",
                    handler: fnUpdate,
                    width: 100,
                    text: "Update"
                  },
                  {
                    xtype: "button",
                    handler: fnDelete,
                    width: 100,
                    text: "Delete"
                  }
                ]
              },
              {
                xtype: "container",
                id: "northContainer",
                itemId: "northContainer",
                region: "north",
                height: 200,
                margin: 5,
                style: "background-color:#AA3838",
                layout: "fit",
                items: [
                  // north grid
                ]
              },
              {
                xtype: "container",
                id: "westContainer",
                itemId: "westContainer",
                region: "west",
                margin: 2,
                style: "background-color:#D76D6D",
                width: 500,
                layout: "fit",
                items: [
                  // west grid
                ]
              },
              {
                xtype: "container",
                id: "centerContainer",
                itemId: "centerContainer",
                region: "center",
                margin: 2,
                style: "background-color:#D76D6D",
                layout: "fit",
                items: []
              },
              {
                xtype: "container",
                id: "eastContainer",
                itemId: "eastContainer",
                region: "east",
                margin: 2,
                style: "background-color:#D76D6D",
                width: 500,
                layout: "fit",
                items: [
                  //
                ]
              },
              {
                xtype: "container",
                id: "southContainer",
                itemId: "southContainer",
                region: "south",
                height: 200,
                margin: 2,
                style: "background-color:#AA3838",
                layout: "fit",
                items: [
                  //
                ]
              }
            ]
          },
          {
            xtype: "container",
            region: "south",
            height: 50,
            margin: 2,
            style: "background-color:#00FF48",
            layout: {
              type: "vbox",
              align: "stretch",
              pack: "center"
            },
            items: [
              {
                xtype: "toolbar",
                margin: 5,
                items: [
                  {
                    xtype: "label",
                    text: "bottom title"
                  }
                ]
              }
            ]
          },
          {
            xtype: "container",
            region: "south",
            height: 50,
            margin: 2,
            style: "background-color:#00FF48",
            layout: {
              type: "vbox",
              align: "stretch",
              pack: "center"
            },
            items: [
              {
                xtype: "toolbar",
                margin: 5,
                items: [
                  {
                    xtype: "label",
                    text: "bottom title"
                  }
                ]
              }
            ]
          }
        ];
        // add viewport
        viewport.add(itemsViewport);
        // -------------------------------------------------------------------------------------------------------------
        // define
        // -------------------------------------------------------------------------------------------------------------

        Ext.define("SupportTools.view.NorthGrid", {
          extend: "Ext.grid.Panel",
          alias: "widget.mygridpanel5",

          requires: [],

          viewModel: {
            type: "mygridpanel5"
          },
          id: 'northGrid',
          itemId: 'northGrid',
          title: "North Grid",

          columns: [
            {
              xtype: "gridcolumn",
              dataIndex: "title",
              text: "String"
            }
          ],
          listeners: {
            cellclick: "onGridpanelCellClick"
          },
          dockedItems: [
            {
              xtype: "toolbar",
              dock: "top",
              layout: {
                type: "hbox",
                pack: "end"
              },
              items: [
                {
                  xtype: "button",
                  handler: function(button, e) {},
                  width: 100,
                  text: "Create"
                },
                {
                  xtype: "button",
                  handler: function(button,e) {},
                  width: 100,
                  text: "Read"
                },
                {
                  xtype: "button",
                  handler: function(button, e) {},
                  width: 100,
                  text: "Update"
                },
                {
                  xtype: "button",
                  handler: function(button, e) {},
                  width: 100,
                  text: "Delete"
                }
              ]
            }
          ],
          onGridpanelCellClick: function(
            tableview,
            td,
            cellIndex,
            record,
            tr,
            rowIndex,
            e,
            eOpts
          ) {
            alert("onGridpanelCellClick");
          }
        });


        Ext.define('SupportTools.store.northGridStore', {
          extend: 'Ext.data.Store',

          requires: [
          ],

          constructor: function(cfg) {
            var me = this;
            cfg = cfg || {};
            me.callParent([Ext.apply({
              storeId: 'northGridStore',
              proxy: {
                type: 'ajax',
                url: '/json/movies.json',
                reader: {
                  type: 'json'
                }
              },
              fields: [
                {
                  name: 'iid'
                },
                {
                  name: 'title'
                },
                {
                  name: 'releaseYear'
                }
              ]
            }, cfg)]);
          }
        });



        Ext.define("SupportTools.view.WestGrid", {
          extend: "Ext.grid.Panel",
          alias: "widget.mygridpanel5",

          requires: [],

          viewModel: {
            type: "mygridpanel6"
          },
          title: "West Grid",

          columns: [
            {
              xtype: "gridcolumn",
              dataIndex: "name",
              text: "String"
            }
          ],
          listeners: {
            cellclick: "onGridpanelCellClick"
          },
          dockedItems: [
            {
              xtype: "toolbar",
              dock: "top",
              layout: {
                type: "hbox",
                pack: "end"
              },
              items: [
                {
                  xtype: "button",
                  handler: function(button, e) {},
                  width: 100,
                  text: "Create"
                },
                {
                  xtype: "button",
                  handler: function(button, e) {},
                  width: 100,
                  text: "Read"
                },
                {
                  xtype: "button",
                  handler: function(button, e) {},
                  width: 100,
                  text: "Update"
                },
                {
                  xtype: "button",
                  handler: function(button, e) {},
                  width: 100,
                  text: "Delete"
                }
              ]
            }
          ],
          onGridpanelCellClick: function(
            tableview,
            td,
            cellIndex,
            record,
            tr,
            rowIndex,
            e,
            eOpts
          ) {
            alert("onGridpanelCellClick");
          }
        });

        Ext.define("SupportTools.store.WestGridStore", {
          extend: "Ext.data.Store",

          requires: [],

          constructor: function(cfg) {
            var me = this;
            cfg = cfg || {};
            me.callParent([
              Ext.apply(
                {
                  storeId: "store",
                  data: [
                    {
                      name: "illum"
                    },
                    {
                      name: "facere"
                    },
                    {
                      name: "similique"
                    }
                  ],
                  proxy: {
                    type: "ajax",
                    reader: {
                      type: "array"
                    }
                  },
                  fields: [
                    {
                      name: "name"
                    }
                  ]
                },
                cfg
              )
            ]);
          }
        });

        Ext.define("SupportTools.view.CenterGrid", {
          extend: "Ext.grid.Panel",
          alias: "widget.mygridpanel5",

          requires: [],

          viewModel: {
            type: "mygridpanel6"
          },
          title: "Center Grid",

          columns: [
            {
              xtype: "gridcolumn",
              dataIndex: "name",
              text: "String"
            }
          ],
          listeners: {
            cellclick: "onGridpanelCellClick"
          },
          dockedItems: [
            {
              xtype: "toolbar",
              dock: "top",
              layout: {
                type: "hbox",
                pack: "end"
              },
              items: [
                {
                  xtype: "button",
                  handler: function(button, e) {},
                  width: 100,
                  text: "Create"
                },
                {
                  xtype: "button",
                  handler: function(button, e) {},
                  width: 100,
                  text: "Read"
                },
                {
                  xtype: "button",
                  handler: function(button, e) {},
                  width: 100,
                  text: "Update"
                },
                {
                  xtype: "button",
                  handler: function(button, e) {},
                  width: 100,
                  text: "Delete"
                }
              ]
            }
          ],
          onGridpanelCellClick: function(
            tableview,
            td,
            cellIndex,
            record,
            tr,
            rowIndex,
            e,
            eOpts
          ) {
            alert("onGridpanelCellClick");
          }
        });

        Ext.define("SupportTools.store.CenterGridStore", {
          extend: "Ext.data.Store",

          requires: [],

          constructor: function(cfg) {
            var me = this;
            cfg = cfg || {};
            me.callParent([
              Ext.apply(
                {
                  storeId: "store",
                  data: [
                    {
                      name: "illum"
                    },
                    {
                      name: "facere"
                    },
                    {
                      name: "similique"
                    }
                  ],
                  proxy: {
                    type: "ajax",
                    reader: {
                      type: "array"
                    }
                  },
                  fields: [
                    {
                      name: "name"
                    }
                  ]
                },
                cfg
              )
            ]);
          }
        });

        Ext.define("SupportTools.view.EastGrid", {
          extend: "Ext.grid.Panel",
          alias: "widget.mygridpanel5",

          requires: [],

          viewModel: {
            type: "mygridpanel6"
          },
          title: "East Grid",

          columns: [
            {
              xtype: "gridcolumn",
              dataIndex: "name",
              text: "String"
            }
          ],
          listeners: {
            cellclick: "onGridpanelCellClick"
          },
          dockedItems: [
            {
              xtype: "toolbar",
              dock: "top",
              layout: {
                type: "hbox",
                pack: "end"
              },
              items: [
                {
                  xtype: "button",
                  handler: function(button, e) {},
                  width: 100,
                  text: "Create"
                },
                {
                  xtype: "button",
                  handler: function(button, e) {},
                  width: 100,
                  text: "Read"
                },
                {
                  xtype: "button",
                  handler: function(button, e) {},
                  width: 100,
                  text: "Update"
                },
                {
                  xtype: "button",
                  handler: function(button, e) {},
                  width: 100,
                  text: "Delete"
                }
              ]
            }
          ],
          onGridpanelCellClick: function(
            tableview,
            td,
            cellIndex,
            record,
            tr,
            rowIndex,
            e,
            eOpts
          ) {
            alert("onGridpanelCellClick");
          }
        });

        Ext.define("SupportTools.store.EastGridStore", {
          extend: "Ext.data.Store",

          requires: [],

          constructor: function(cfg) {
            var me = this;
            cfg = cfg || {};
            me.callParent([
              Ext.apply(
                {
                  storeId: "store",
                  data: [
                    {
                      name: "illum"
                    },
                    {
                      name: "facere"
                    },
                    {
                      name: "similique"
                    }
                  ],
                  proxy: {
                    type: "ajax",
                    reader: {
                      type: "array"
                    }
                  },
                  fields: [
                    {
                      name: "name"
                    }
                  ]
                },
                cfg
              )
            ]);
          }
        });

        Ext.define("SupportTools.view.SouthGrid", {
          extend: "Ext.grid.Panel",
          alias: "widget.mygridpanel5",

          requires: [],

          viewModel: {
            type: "mygridpanel6"
          },
          title: "South Grid",

          columns: [
            {
              xtype: "gridcolumn",
              dataIndex: "name",
              text: "String"
            }
          ],
          listeners: {
            cellclick: "onGridpanelCellClick"
          },
          dockedItems: [
            {
              xtype: "toolbar",
              dock: "top",
              layout: {
                type: "hbox",
                pack: "end"
              },
              items: [
                {
                  xtype: "button",
                  handler: function(button, e) {},
                  width: 100,
                  text: "Create"
                },
                {
                  xtype: "button",
                  handler: function(button, e) {},
                  width: 100,
                  text: "Read"
                },
                {
                  xtype: "button",
                  handler: function(button, e) {},
                  width: 100,
                  text: "Update"
                },
                {
                  xtype: "button",
                  handler: function(button, e) {},
                  width: 100,
                  text: "Delete"
                }
              ]
            }
          ],
          onGridpanelCellClick: function(
            tableview,
            td,
            cellIndex,
            record,
            tr,
            rowIndex,
            e,
            eOpts
          ) {
            alert("onGridpanelCellClick");
          }
        });

        Ext.define("SupportTools.store.SouthGridStore", {
          extend: "Ext.data.Store",

          requires: [],

          constructor: function(cfg) {
            var me = this;
            cfg = cfg || {};
            me.callParent([
              Ext.apply(
                {
                  storeId: "store",
                  data: [
                    {
                      name: "illum"
                    },
                    {
                      name: "facere"
                    },
                    {
                      name: "similique"
                    }
                  ],
                  proxy: {
                    type: "ajax",
                    reader: {
                      type: "array"
                    }
                  },
                  fields: [
                    {
                      name: "name"
                    }
                  ]
                },
                cfg
              )
            ]);
          }
        });

        // -------------------------------------------------------------------------------------------------------------
        // add Store in Grid
        // -------------------------------------------------------------------------------------------------------------
        var createNorthGrid = Ext.create("SupportTools.view.NorthGrid");
        var createNorthGridStore = Ext.create(
          "SupportTools.store.northGridStore"
        );
        createNorthGrid.bindStore(createNorthGridStore);

        var createWestGrid = Ext.create("SupportTools.view.WestGrid");
        var createWestGridStore = Ext.create(
          "SupportTools.store.WestGridStore"
        );
        createWestGrid.bindStore(createWestGridStore);

        var createCenterGrid = Ext.create("SupportTools.view.CenterGrid");
        var createCenterGridStore = Ext.create(
          "SupportTools.store.CenterGridStore"
        );
        createCenterGrid.bindStore(createCenterGridStore);

        var createEastGrid = Ext.create("SupportTools.view.EastGrid");
        var createEastGridStore = Ext.create(
          "SupportTools.store.EastGridStore"
        );
        createEastGrid.bindStore(createEastGridStore);

        var createSouthGrid = Ext.create("SupportTools.view.SouthGrid");
        var createSouthGridStore = Ext.create(
          "SupportTools.store.SouthGridStore"
        );
        createSouthGrid.bindStore(createSouthGridStore);

        var createMenuToolbar = Ext.create("SupportTools.view.MenuToolbar");
        console.log("createMenuToolbar : %o", createMenuToolbar);
        // -------------------------------------------------------------------------------------------------------------
        // add Grid in Container
        // -------------------------------------------------------------------------------------------------------------
        // container는 itemid로는 찾지 못한다. 다른 component는 찾는다. 위와 같은 방식으로 개발 할때는 id를 사용해서 찾는다.
        // var northContainer = Ext.ComponentQuery.query( "container[itemid=northContainer]" )[0];
        // id로는 찾는다.

        var menuContainer = Ext.ComponentQuery.query(
          "container[id=menuContainer]"
        )[0];
        var northContainer = Ext.ComponentQuery.query(
          "container[id=northContainer]"
        )[0];
        var westContainer = Ext.ComponentQuery.query(
          "container[id=westContainer]"
        )[0];
        var centerContainer = Ext.ComponentQuery.query(
          "container[id=centerContainer]"
        )[0];
        var eastContainer = Ext.ComponentQuery.query(
          "container[id=eastContainer]"
        )[0];
        var southContainer = Ext.ComponentQuery.query(
          "container[id=southContainer]"
        )[0];

        menuContainer.add(createMenuToolbar);
        northContainer.add(createNorthGrid);
        westContainer.add(createWestGrid);
        centerContainer.add(createCenterGrid);
        eastContainer.add(createEastGrid);
        southContainer.add(createSouthGrid);
        // -------------------------------------------------------------------------------------------------------------
        // 사용자 정의 함수
        // -------------------------------------------------------------------------------------------------------------
        function fnCreate(button, e) {

        }

        function fnRead(button, e) {


          var btn = button;
          var evn = e;

          // up, down selector로 찾지 못한다.
          // itemid로도 찾지 못한다.
          // var northGrid = Ext.ComponentQuery.query('gridpanel[id=northGrid]')[0];
          var northGrid = fnGetGridPanel('northGrid');
          // var northStore = northGrid.getStore();
          var northStore = fnGetStore(northGrid);


          northStore.load({
            params : {
              sample   : "",
            },
            callback : function(records, options, success) {
              console.log("records : %o", records);
              console.log("options : %o", options);
              console.log("success : %o", success);
            }
          });

        }
        function fnUpdate(button, e) {

        }
        function fnDelete(button, e) {

        }
      });
    </script>
  </body>
</html>
